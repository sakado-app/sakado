<!--
    Sakado, an app for school
    Copyright (c) 2017-2018 Adrien 'Litarvan' Navratil

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with this program.  If not, see <https://www.gnu.org/licenses/>.
-->
<ion-header>
    <ion-navbar color="primary">
        <button ion-button menuToggle>
            <ion-icon name="menu"></ion-icon>
        </button>
        <ion-title>Sakado - Profs. absents</ion-title>
    </ion-navbar>
</ion-header>

<ion-content>
    <div id="away-content" *ngIf="away !== null">
        <div *ngFor="let week of away">
            <div class="week-name">{{ weekDate(week) }}</div>
            <ion-card *ngFor="let lesson of week.content" class="lesson-card" [class.away-lesson]="lesson.away" [class.cancelled-lesson]="lesson.cancelled">
                <ion-card-header id="away-title">
                    {{ lesson.teacher }}
                    -
                    <span [class.away]="lesson.away" [class.cancelled]="lesson.cancelled">
                        {{ lesson.away ? 'ABSENT' : 'ANNULÃ‰' }}
                    </span>

                    <ion-icon *ngIf="lesson.cancelled" class="cancelled-help" name="help-circle" (click)="displayHelp()"></ion-icon>
                </ion-card-header>
                <ion-card-content>{{ coursDate(lesson) }} <br/> <i>{{ lesson.subject }}</i></ion-card-content>
            </ion-card>

            <h6 *ngIf="week.content.length === 0">Pas de prof absent cette semaine</h6>
        </div>
    </div>
</ion-content>
